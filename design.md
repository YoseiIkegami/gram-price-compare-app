# グラム単価比較アプリ - デザイン計画

## 1. 画面構成

### 1.1 計算画面（メイン）
**目的**: 商品の価格と内容量を入力し、グラム単価を計算・比較する

**レイアウト**:
- **ヘッダー**: 「グラム単価比較」タイトル + 右上に「履歴」ボタン
- **商品カード群**: 縦スタック（A, B, C…）
  - 各カードに入力フィールド（価格、内容量）
  - 自動計算された1g単価を大きく表示
  - 最安商品を色・アイコン（👑）で強調
- **アクション領域**:
  - 「商品を追加」ボタン（最大4つまで）
  - 「クリア」ボタン（全入力をリセット）

**ユーザーフロー**:
1. アプリ起動 → 計算画面が表示される
2. 商品Aの価格・内容量を入力 → 自動計算
3. 商品Bの価格・内容量を入力 → 自動計算
4. 画面上で最安商品が視覚的に強調される
5. 「クリア」で全リセット → 履歴に保存

### 1.2 履歴画面
**目的**: 過去の計算結果を確認・管理する

**レイアウト**:
- **ヘッダー**: 「履歴」タイトル
- **履歴リスト**: 時系列（新しい順）
  - 各履歴アイテム: タイトル（任意入力）、日時、最安商品の1g単価
  - タップで詳細表示
- **詳細ビュー**:
  - 商品A/B/Cの結果を再表示
  - 削除ボタン

### 1.3 About画面
**目的**: アプリの説明と支援リンク

**レイアウト**:
- **アプリ説明**: 「このアプリについて」セクション
- **使い方**: 3ステップの簡潔な説明
- **寄付リンク**: Buy Me a Coffee / GitHub Sponsors

---

## 2. 色選定

### ブランドカラー
| 要素 | 色コード | 用途 |
|------|---------|------|
| **プライマリ** | `#10B981` | 最安商品の強調、ボタン |
| **セカンダリ** | `#3B82F6` | 通常の商品カード背景 |
| **背景** | `#F9FAFB` | スクリーン背景（ライト） |
| **テキスト主** | `#111827` | 見出し、主要テキスト |
| **テキスト副** | `#6B7280` | サブテキスト、説明 |
| **ボーダー** | `#E5E7EB` | カード境界線 |
| **成功** | `#10B981` | 最安表示 |
| **警告** | `#F59E0B` | 注意が必要な情報 |

### ダークモード対応
- 背景: `#1F2937`
- テキスト主: `#F3F4F6`
- テキスト副: `#9CA3AF`

---

## 3. コンポーネント設計

### 3.1 商品カード
```
┌─────────────────────────────┐
│ 商品 A                      │
├─────────────────────────────┤
│ 価格: [入力フィールド] 円    │
│ 内容量: [入力フィールド] g   │
├─────────────────────────────┤
│ 1g単価: 12.5円  👑 最安     │
└─────────────────────────────┘
```

### 3.2 計算画面全体
```
┌─────────────────────────────┐
│ グラム単価比較      [履歴]   │  ← ヘッダー
├─────────────────────────────┤
│                             │
│  ┌─────────────────────┐   │
│  │ 商品 A              │   │
│  │ 価格: [  ] 円       │   │
│  │ 内容量: [  ] g      │   │
│  │ 1g単価: 12.5円 👑   │   │
│  └─────────────────────┘   │
│                             │
│  ┌─────────────────────┐   │
│  │ 商品 B              │   │
│  │ 価格: [  ] 円       │   │
│  │ 内容量: [  ] g      │   │
│  │ 1g単価: 15.0円      │   │
│  └─────────────────────┘   │
│                             │
│  [+ 商品を追加]  [クリア]   │  ← アクション
│                             │
└─────────────────────────────┘
```

---

## 4. ユーザーフロー

### メインフロー（10〜30秒）
```
起動
  ↓
計算画面表示
  ↓
商品A: 価格・内容量入力 → 自動計算
  ↓
商品B: 価格・内容量入力 → 自動計算
  ↓
最安商品が視覚的に強調される
  ↓
「クリア」 → 履歴に保存 → 入力フィールドリセット
```

### 履歴確認フロー
```
計算画面 → [履歴]ボタン
  ↓
履歴一覧表示
  ↓
履歴アイテムをタップ → 詳細表示
  ↓
削除 or 戻る
```

---

## 5. 操作性原則

### 片手操作を前提
- **入力フィールド**: 画面下部（親指で到達可能）
- **ボタン**: 画面下部に集約
- **スクロール**: 最小限（2商品なら不要）

### 最小限の入力
- **必須**: 価格、内容量のみ
- **任意**: 商品ラベル（A/B/C…は自動）、履歴タイトル

### 即時フィードバック
- 数値入力 → 即座に1g単価を再計算
- 最安商品が自動的に色で強調
- ローディング表示なし（すべてローカル計算）

---

## 6. ビジュアル設計

### タイポグラフィ
| 要素 | フォントサイズ | ウェイト |
|------|----------------|---------|
| 画面タイトル | 28px | Bold |
| カード見出し | 16px | Semibold |
| 1g単価（最大表示） | 24px | Bold |
| 入力ラベル | 14px | Regular |
| サブテキスト | 12px | Regular |

### スペーシング
- カード間: 16px
- カード内部: 12px
- ヘッダー下: 24px
- 画面パディング: 16px

### コーナーラウンド
- カード: 12px
- ボタン: 8px
- 入力フィールド: 8px

---

## 7. 実装の優先順位

### Phase 1（MVP）
- ✅ 計算画面（2商品比較）
- ✅ グラム単価の自動計算
- ✅ 最安商品の視覚的強調
- ✅ クリア機能

### Phase 2
- ✅ 履歴保存（AsyncStorage）
- ✅ 履歴画面
- ✅ 履歴詳細表示・削除

### Phase 3
- ✅ About画面
- ✅ 寄付リンク
- ✅ ナビゲーション（タブバー）

### Phase 4（ポーランド）
- ✅ ダークモード対応
- ✅ アニメーション（カード出現）
- ✅ ハプティクスフィードバック

---

## 8. 非機能要件

### パフォーマンス
- **起動時間**: < 2秒
- **計算レスポンス**: < 100ms
- **バンドルサイズ**: < 5MB

### データ保存
- **ローカルストレージ**: AsyncStorage（React Native標準）
- **履歴上限**: 100件（古い順に削除）

### アクセシビリティ
- **テキストコントラスト**: WCAG AA準拠
- **タッチターゲット**: 最小44px × 44px
- **フォントサイズ**: 最小12px

---

## 9. デザイン原則

1. **シンプル**: 計算に必要な要素のみ
2. **高速**: ストレスなく10〜30秒で完了
3. **視覚的**: 色と配置で最安商品を一目で判断
4. **軽量**: 不要な機能は一切なし
5. **親切**: 初見でも直感的に操作できる

